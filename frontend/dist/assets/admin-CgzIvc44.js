import"./modulepreload-polyfill-B5Qt9EMX.js";var f=[{id:"menu1",title:"管理员管理",url:"./html/manager/admin.html"},{id:"menu2",title:"老师管理",url:"./html/manager/teacherManage.html"},{id:"menu3",title:"学生管理",url:"./html/manager/studentManage.html"},{id:"menu4",title:"评价指标管理",url:"./html/manager/evaluationMethod.html"},{id:"menu5",title:"评价结果查看",url:"./html/manager/teacherManageData.html"},{id:"menu6",title:"密码修改",url:"./html/manager/pwd.html"}];document.addEventListener("DOMContentLoaded",function(){if(!localStorage.getItem("jwtToken")){alert("您还未登录，请先登录"),window.location.href="login.html";return}});var s=document.getElementById("menuSection"),c=document.getElementById("mainFrame");function p(t,i){const a=document.createElement("li");a.classList.add("menu-item");const r=document.createElement("span");if(r.textContent=t.title,r.classList.add("title"),a.addEventListener("click",function(d){if(d.stopPropagation(),t.children){for(let l=0;l<f.length;l++){const n=f[l];if(n!==t&&n.expanded){n.expanded=!1;const u=s.querySelector(`li[data-id="${n.id}"]`),o=u.querySelector(".submenu");o.style.display="none",u.classList.remove("expanded")}}t.expanded=!t.expanded;const e=a.querySelector(".submenu");e.style.display=t.expanded?"block":"none",a.classList.toggle("expanded")}else{const e=t.url;e&&(c.src=e,c.classList.add("fade-out"),setTimeout(()=>{c.classList.remove("fade-out"),c.classList.add("fade-in"),setTimeout(()=>{c.classList.remove("fade-in")},200)},200));const l=s.getElementsByClassName("selected");for(let n=0;n<l.length;n++)l[n].classList.remove("selected");a.classList.add("selected")}}),a.appendChild(r),t.children){const d=document.createElement("ul");d.classList.add("submenu"),d.style.display=i?"block":"none";for(let e=0;e<t.children.length;e++){const l=t.children[e],n=p(l);n.setAttribute("data-id",l.id),d.appendChild(n)}a.appendChild(d)}else a.setAttribute("data-url",t.url);return a}function g(t,i){for(var a=document.createElement("ul"),r=0;r<t.length;r++){var d=t[r],e=p(d,r===0);d.children&&e.classList.add("hasChildren"),a.appendChild(e)}i.appendChild(a)}function y(){g(f,s);var t=f[0],i=!1;if(t&&t.children){let r=function(d){for(var e=0;e<d.length;e++){var l=d[e];if(l.url){c.src=l.url;var n=s.querySelector('li[data-url="'+l.url+'"]');n.classList.add("selected"),i=!0;break}if(l.children&&(r(l.children),i))break}};r(t.children)}if(!i&&t.url){c.src=t.url;var a=s.querySelector('li[data-url="'+t.url+'"]');a.classList.add("selected")}s.addEventListener("click",function(r){var d=r.target,e=d.closest("li");if(e){var l=e.classList.contains("hasChildren"),n=s.querySelectorAll(".expanded"),u=e.classList.contains("expanded");if(l&&r.preventDefault(),n.forEach(function(m){if(m!==e&&!e.contains(m)){m.classList.remove("expanded");var v=m.querySelector(".submenu");v.style.display="none"}}),u){if(e.classList.remove("expanded"),l){var o=e.querySelector(".submenu");o.style.display="none"}}else if(e.classList.add("expanded"),l){o=e.querySelector(".submenu"),o.style.display="block";var h=o.querySelector("a");h&&h.focus()}}})}y();document.getElementById("logout").addEventListener("click",function(){localStorage.removeItem("jwtToken"),window.location.href="login.html"});
